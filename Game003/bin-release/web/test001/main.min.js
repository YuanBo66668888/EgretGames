var EgretCocos;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var r=(__define,t);r.prototype;return t}(egret.DisplayObject);e.Base=t,egret.registerClass(t,"EgretCocos.Base")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var r=(__define,t),n=r.prototype;return n.init=function(){var e=!1;return this.onEnter()&&(e=!0),e},n.onEnter=function(){return!0},t.create=function(){var e=new t;return e},n.change_scene=function(){return!0},t}(e.Base);e.Scene=t,egret.registerClass(t,"EgretCocos.Scene")}(EgretCocos||(EgretCocos={}));var Main=function(e){function t(){e.call(this),this.config_file="default.res.json",this.preload_file="preload",this.container=null,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onEnter,this)}__extends(t,e);var r=(__define,t),n=r.prototype;return n.mainLogic=function(){console.log("StartGame")},n.load_finish=function(e){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.load_finish,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.load_process,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.load_error,this),this.mainLogic()},n.load_process=function(e){console.log("Loaded Item...")},n.load_error=function(e){},n.init=function(){var e=!1;this.container=new egret.DisplayObjectContainer,this.stage.addChild(this.container),EgretCocos.SceneManager.getInstance().setScene(this),EgretCocos.StageManager.getInstance().setStage(this.stage);var t=EgretCocos.ResManager.getInstance();return t.loadConfig(this.config_file),t.loadFile(this.preload_file,this.load_finish,this.load_process,this.load_error),e},n.onEnter=function(){var e=!1;return this.init()&&(e=!0),e},t}(EgretCocos.Scene);egret.registerClass(Main,"Main");var EgretCocos;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var r=(__define,t),n=r.prototype;return t.create=function(e,r,n,o){var a=new t;return a.flip=1,a.reflush=!1,r&&(a.bottom=new egret.Bitmap,a.bottom.texture=RES.getRes(r),a.addChildAt(a.bottom,1)),e&&(a.bar=new egret.Bitmap,a.bar.texture=RES.getRes(e),a.addChildAt(a.bar,2),o?(a.bar.x=n,a.bar.y=o):(a.bar.x=0,a.bar.y=1)),a},n.setPercent=function(e){this.bar.scaleX=this.flip*e},n.setFlipX=function(e){e?this.flip=-1:this.flip=1,this.bar.scaleX=this.flip,this.bottom.scaleX=this.flip},n.setPosition=function(e,t,r,n){e&&(this.bar.x=this.bar.x+e),r&&(this.bar.y=this.bar.y+r),t&&(this.bottom.x=this.bottom.x+t),n&&(this.bottom.y=this.bottom.y+n)},t}(egret.Sprite);e.Bar=t,egret.registerClass(t,"EgretCocos.Bar")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var r=(__define,t),n=r.prototype;return n.touch_begin=function(e){this.texture=RES.getRes(this.on_name)},n.touch_moved=function(e){},n.touch_ended=function(e){this.texture=RES.getRes(this.off_name),this.click_func()},n.touch_out=function(e){this.texture=RES.getRes(this.off_name)},t.create=function(e,r,n){var o=new t;return o.click_func=n,o.on_name=e,o.off_name=r,o.texture=RES.getRes(o.off_name),o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_BEGIN,o.touch_begin,o),o.addEventListener(egret.TouchEvent.TOUCH_MOVE,o.touch_moved,o),o.addEventListener(egret.TouchEvent.TOUCH_END,o.touch_ended,o),o.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,o.touch_out,o),o},t}(egret.Bitmap);e.Button=t,egret.registerClass(t,"EgretCocos.Button")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(t){function r(){t.call(this)}__extends(r,t);var n=(__define,r),o=n.prototype;return r.createText=function(e,t,r){var n=new egret.TextField;return n.text=e,n.textColor=t,n.fontFamily=r,n},r.createInputText=function(){var e=new egret.TextField;return e.type=egret.TextFieldType.INPUT,e.textColor=0,e},r.createNumber=function(t,n,o){var a=new r;a.current_font=n;var s=0;if(0!=t)for(;0!=t;){var i=t%10;t=Math.floor(t/10);var c=e.ImageManager.getInstance().createWithSpriteFrameName(n+i);o?(a.current_jianju=o,c.x=-s*o):(a.current_jianju=20,c.x=20*-s),c.y=5,a.addChild(c),s++}else{o?a.current_jianju=o:a.current_jianju=20;var c=e.ImageManager.getInstance().createWithSpriteFrameName(n+"0");c.y=5,a.addChild(c)}return a},o.changeFont=function(t){this.removeChildren();var r=0;if(0!=t)for(;0!=t;){var n=t%10;t=Math.floor(t/10);var o=e.ImageManager.getInstance().createWithSpriteFrameName(this.current_font+n);this.current_jianju?o.x=-r*this.current_jianju:o.x=20*-r,o.y=5,this.addChild(o),r++}else{var o=e.ImageManager.getInstance().createWithSpriteFrameName(this.current_font+"0");o.y=5,this.addChild(o)}},r}(egret.Sprite);e.Font=t,egret.registerClass(t,"EgretCocos.Font")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.Const=t,egret.registerClass(t,"EgretCocos.Const")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.Adapter=t,egret.registerClass(t,"EgretCocos.Adapter")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return r.getAsset=function(e,t,r){function n(n){t.call(r,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();e.AssetAdapter=t,egret.registerClass(t,"EgretCocos.AssetAdapter",["eui.IAssetAdapter"])}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(e){function t(){e.call(this)}__extends(t,e);var r=(__define,t);r.prototype;return t}(e.Base);e.BaseRole=t,egret.registerClass(t,"EgretCocos.BaseRole")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.getDistance=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},e}();e.MathLib=t,egret.registerClass(t,"EgretCocos.MathLib")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.cclog=function(e){console.log(e)},e}();e.Tool=t,egret.registerClass(t,"EgretCocos.Tool")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.deleteFromArray=function(e,t){for(var r=(new Array,e.length),n=0;r>n;n++){var o=e.pop();o.hashCode==t.hashCode||e.unshift(o)}},e.getLength=function(e){var t=0;for(var r in e)t++;return t},e}();e.ArrayController=t,egret.registerClass(t,"EgretCocos.ArrayController")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){this.factory=new dragonBones.EgretFactory}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.dbManager||(e.dbManager=new e,egret.Ticker.getInstance().register(function(e){dragonBones.WorldClock.clock.advanceTime(e/1e3)},this)),e.dbManager},r.loadData=function(e){this.factory.addSkeletonData(dragonBones.DataParser.parseDragonBonesData(RES.getRes(e+"_json"))),this.factory.addTextureAtlas(new dragonBones.EgretTextureAtlas(RES.getRes(e+"_texture_png"),RES.getRes(e+"_texture_json")))},r.loadDataArray=function(e){for(var t=0;t<e.length;t++)this.loadData(e[t])},r.createDBArmature=function(e){var t=this.factory.buildArmature(e);t.getDisplay();return this.addInWorld(t),t},r.addInWorld=function(e){dragonBones.WorldClock.clock.add(e)},r.removeFromWorld=function(e){dragonBones.WorldClock.clock.remove(e)},e}();e.DBManager=t,egret.registerClass(t,"EgretCocos.DBManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.dataManager||(e.dataManager=new e),e.dataManager},r.getJson=function(e){return RES.getRes(e)},e}();e.DataManager=t,egret.registerClass(t,"EgretCocos.DataManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.imageManager||(e.imageManager=new e),e.imageManager},r.addImageCallBack=function(e){var t=e.currentTarget,r=(this[0],this[1]),n=this[2],o=this[3],a=this[4],s=this[5],i=new egret.Bitmap(t.data);r.addChildAt(i,s),i.x=o,i.y=a,i.name=n,t.removeEventListener(egret.Event.COMPLETE,this.addImageCallBack,this)},r.addSprite=function(t,r,n,o,a,s,i){var c=[this,r,n,o,a,s],g=new egret.ImageLoader;return i?g.addEventListener(egret.Event.COMPLETE,i,c):g.addEventListener(egret.Event.COMPLETE,this.addImageCallBack,c),g.load("resource/assets/"+t),e.imageManager},r.createWithSpriteFrameName=function(e){var t=new egret.Bitmap;return t.texture=RES.getRes(e),t},e}();e.ImageManager=t,egret.registerClass(t,"EgretCocos.ImageManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function t(){}var r=(__define,t),n=r.prototype;return t.getInstance=function(){return t.resManager||(t.resManager=new t),t.resManager},n.loadConfig=function(e){RES.loadConfig("resource/"+e,"resource/")},n.loadFile=function(r,n,o,a){var s=e.SceneManager.getInstance().getScene();return RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,n,s),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,o,s),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,a,s),RES.loadGroup(r),t.resManager},t}();e.ResManager=t,egret.registerClass(t,"EgretCocos.ResManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.sceneManager||(e.sceneManager=new e),e.sceneManager},r.setScene=function(e){this.currentScene=e},r.getScene=function(){return this.currentScene},e}();e.SceneManager=t,egret.registerClass(t,"EgretCocos.SceneManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.stageManager||(e.stageManager=new e),e.stageManager},r.setStage=function(e){this.stage=e},r.getStage=function(){return this.stage},e}();e.StageManager=t,egret.registerClass(t,"EgretCocos.StageManager")}(EgretCocos||(EgretCocos={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e),r=t.prototype;return e.getInstance=function(){return e.tierManager||(e.tierManager=new e,e.tierManager.all_objects=new Array),e.tierManager},r.dealWithPosition=function(){var e,t=new Array,r=0;e=1e3;for(var n in this.all_objects)if(this.all_objects[n]){if(t[r]=this.all_objects[n].hashCode,this.all_objects[n].parent){var o=this.all_objects[n].parent.getChildIndex(this.all_objects[n]);e>o&&(e=o)}r++}for(var a=0;a<t.length;a++)for(var s=0;s<t.length;s++)if(this.all_objects[t[a]]&&this.all_objects[t[s]]&&this.all_objects[t[a]].y<this.all_objects[t[s]].y){var i=this.all_objects[t[a]];this.all_objects[t[a]]=this.all_objects[t[s]],this.all_objects[t[s]]=i}for(var a=0;a<t.length;a++){var c=this.all_objects[t[a]];c&&c.parent&&c.parent.setChildIndex(c,e+a)}},r.removeObject=function(e){for(var t in this.all_objects)this.all_objects[t]&&this.all_objects[t].hashCode==e&&(this.all_objects[t]=null)},r.removeObjectByIndex=function(e){var t=1;for(var r in this.all_objects)this.all_objects[r]&&t==e&&(this.all_objects[r]=null),t++},e}();e.TierManager=t,egret.registerClass(t,"EgretCocos.TierManager")}(EgretCocos||(EgretCocos={}));var UEgretCocosY;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e.createAnimate=function(e,t,r){var n=RES.getRes(e),o=RES.getRes(t),a=new egret.MovieClipDataFactory(n,o),s=new egret.MovieClip(a.generateMovieClipData(r));return s},e}();e.Animate=t,egret.registerClass(t,"UEgretCocosY.Animate")}(UEgretCocosY||(UEgretCocosY={}));var EgretCocos;!function(e){var t=function(){function e(){}var t=(__define,e);t.prototype;return e}();e.Particle=t,egret.registerClass(t,"EgretCocos.Particle")}(EgretCocos||(EgretCocos={}));